{"version":3,"file":"courses.min.js","sources":["../src/courses.js"],"sourcesContent":["define(['jquery', 'core/ajax','core/str'], function ($, Ajax,str) {\n    'use strict';\n    return {\n        init: function () {\n            $('button[name=action-btn]').click(function () {\n                var courseId = $(this).attr('data-id');\n                var action = $(this).attr('data-action');\n\n                if (action === 'del') {\n                    if (confirm(\"Are You sure you want to delete record ?\") == true) {\n                        var args = {\n                            courseid: parseInt(courseId),\n                            action: action.toString()\n                        };\n                        Ajax.call([{\n                            methodname: 'local_restrict_courses_records',\n                            args: args\n                        }])[0].then(function () {\n                            $('#tr-' + courseId).fadeOut(300);\n                        }).catch(function (err) {\n                            let fullError = `\n                                    <div style=\"color:red;\">\n                                        <strong>AJAX Error:</strong><br>\n                                       ${str.get_string('msg', 'local_restrict')} ${err.message || 'N/A'}<br>\n                                        ${str.get_string('status', 'local_restrict')} ${err.status || 'N/A'}<br>\n                                        ${str.get_string('statustxt', 'local_restrict')} ${err.statusText || 'N/A'}<br>\n                                        ${str.get_string('response', 'local_restrict')}\n                                        ${err.responseText || JSON.stringify(err)}<br>\n                                        ${str.get_string('args', 'local_restrict')} ${JSON.stringify(args)}\n                                    </div>\n                                `;\n                            $('#ajx-err').html(fullError);\n                        });\n                    }\n\n                    else {\n\n                    }\n                }\n\n            });\n        }\n    };\n});\n\n"],"names":["define","$","Ajax","str","init","click","courseId","this","attr","action","confirm","args","courseid","parseInt","toString","call","methodname","then","fadeOut","catch","err","fullError","get_string","message","status","statusText","responseText","JSON","stringify","html"],"mappings":"AAAAA,gCAAO,CAAC,SAAU,YAAY,aAAa,SAAUC,EAAGC,KAAKC,WAElD,CACHC,KAAM,WACFH,EAAE,2BAA2BI,OAAM,eAC3BC,SAAWL,EAAEM,MAAMC,KAAK,WACxBC,OAASR,EAAEM,MAAMC,KAAK,kBAEX,QAAXC,QAC2D,GAAvDC,QAAQ,4CAAqD,KACzDC,KAAO,CACPC,SAAUC,SAASP,UACnBG,OAAQA,OAAOK,YAEnBZ,KAAKa,KAAK,CAAC,CACPC,WAAY,iCACZL,KAAMA,QACN,GAAGM,MAAK,WACRhB,EAAE,OAASK,UAAUY,QAAQ,QAC9BC,OAAM,SAAUC,SACXC,qMAGSlB,IAAImB,WAAW,MAAO,8BAAqBF,IAAIG,SAAW,+DACzDpB,IAAImB,WAAW,SAAU,8BAAqBF,IAAII,QAAU,+DAC5DrB,IAAImB,WAAW,YAAa,8BAAqBF,IAAIK,YAAc,+DACnEtB,IAAImB,WAAW,WAAY,uEAC3BF,IAAIM,cAAgBC,KAAKC,UAAUR,8DACnCjB,IAAImB,WAAW,OAAQ,8BAAqBK,KAAKC,UAAUjB,wFAGzEV,EAAE,YAAY4B,KAAKR"}